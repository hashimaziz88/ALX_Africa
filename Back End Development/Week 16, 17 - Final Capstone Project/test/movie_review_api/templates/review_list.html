{% extends 'base.html' %} {% block content %}
<h2>
  Reviews for "{% if movie_title %}{{ movie_title }}{% else %}All Movies {% endif
  %}"
</h2>

<!-- Search Bar -->
<form method="GET" action="{% url 'review-list' %}" class="mb-4">
  <div class="input-group">
    <input
      type="text"
      name="search"
      class="form-control"
      placeholder="Search reviews..."
      aria-label="Search reviews"
      value="{{ request.GET.search }}"
    />
    <button class="btn btn-outline-secondary" type="submit">Search</button>
  </div>
</form>

<!-- Reviews List -->
{% if reviews %} {% for review in reviews %}
<div class="card mb-3">
  <div class="card-body">
    <h5 class="card-title">{{ review.movie_title }}</h5>
    <p><strong>Rating:</strong> {{ review.rating }}/5</p>
    <p>{{ review.review_content }}</p>
    <p>
      <small
        >Reviewed by {{ review.user.username }} on {{ review.created_date
        }}</small
      >
    </p>
    <a href="{% url 'review-detail' review.pk %}" class="btn btn-link"
      >View Details</a
    >
  </div>
</div>
{% endfor %} {% else %}
<p>No reviews found for this movie.</p>
{% endif %}{% endif %} {% endblock %}
